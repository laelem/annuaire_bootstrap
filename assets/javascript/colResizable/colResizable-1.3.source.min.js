(function(g){var l=g(document),m=g("head"),f=null,i=[],r=0,n=parseInt,k=Math,o=g.browser.msie,h;try{h=sessionStorage}catch(w){}m.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer td, .JColResizer th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;\t}</style>");
var t=function(a){var b=a.find(">thead>tr>th,>thead>tr>td");b.length||(b=a.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td"));a.cg=a.find("col");a.ln=b.length;a.p&&h&&h[a.id]&&p(a,b);b.each(function(b){var d=g(this),e=g(a.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);e.t=a;e.i=b;e.c=d;d.w=d.width();a.g.push(e);a.c.push(d);d.width(d.w).removeAttr("width");b<a.ln-1?e.mousedown(s).append(a.opt.gripInnerHtml).append('<div class="JColResizer" style="cursor:'+a.opt.hoverCursor+
'"></div>'):e.addClass("JCLRLastGrip").removeClass("JCLRgrip");e.data("JColResizer",{i:b,t:a.attr("id")})});a.cg.removeAttr("width");j(a);a.find("td, th").not(b).not("table th, table td").each(function(){g(this).removeAttr("width")})},p=function(a,b){var c,d=0,e=0,f=[];if(b)if(a.cg.removeAttr("width"),a.opt.flush)h[a.id]="";else{for(c=h[a.id].split(";");e<a.ln;e++)f.push(100*c[e]/c[a.ln]+"%"),b.eq(e).css("width",f[e]);for(e=0;e<a.ln;e++)a.cg.eq(e).css("width",f[e])}else{h[a.id]="";for(e in a.c)c=
a.c[e].width(),h[a.id]+=c+";",d+=c;h[a.id]+=d}},j=function(a){a.gc.width(a.w);for(var b=0;b<a.ln;b++){var c=a.c[b];a.g[b].css({left:c.offset().left-a.offset().left+c.outerWidth()+a.cs/2+"px",height:a.opt.headerOnly?a.c[0].outerHeight():a.outerHeight()})}},q=function(a,b,c){var d=f.x-f.l,e=a.c[b],g=a.c[b+1],h=e.w+d,d=g.w-d;e.width(h+"px");g.width(d+"px");a.cg.eq(b).width(h+"px");a.cg.eq(b+1).width(d+"px");c&&(e.w=h,g.w=d)},u=function(a){if(f){var b=f.t,c=a.pageX-f.ox+f.l,d=b.opt.minWidth,e=f.i,g=1.5*
b.cs+d+b.b,h=e==b.ln-1?b.w-g:b.g[e+1].position().left-b.cs-d,d=e?b.g[e-1].position().left+b.cs+d:g,c=k.max(d,k.min(h,c));f.x=c;f.css("left",c+"px");if(b.opt.liveDrag&&(q(b,e),j(b),c=b.opt.onDrag))a.currentTarget=b[0],c(a);return!1}},v=function(a){l.unbind("mousemove.JColResizer").unbind("mouseup.JColResizer");g("head :last-child").remove();if(f){f.removeClass(f.t.opt.draggingClass);var b=f.t,c=b.opt.onResize;f.x&&(q(b,f.i,!0),j(b),c&&(a.currentTarget=b[0],c(a)));b.p&&h&&p(b);f=null}},s=function(a){var b=
g(this).data("JColResizer"),c=i[b.t],d=c.g[b.i];d.ox=a.pageX;d.l=d.position().left;l.bind("mousemove.JColResizer",u).bind("mouseup.JColResizer",v);m.append("<style type='text/css'>*{cursor:"+c.opt.dragCursor+"!important}</style>");d.addClass(c.opt.draggingClass);f=d;if(c.c[b.i].l)for(a=0;a<c.ln;a++)b=c.c[a],b.l=!1,b.w=b.width();return!1};g(window).bind("resize.JColResizer",function(){for(a in i){var a=i[a],b,c=0;a.removeClass("JColResizer");if(a.w!=a.width()){a.w=a.width();for(b=0;b<a.ln;b++)c+=a.c[b].w;
for(b=0;b<a.ln;b++)a.c[b].css("width",k.round(1E3*a.c[b].w/c)/10+"%").l=!0}j(a.addClass("JColResizer"))}});g.fn.extend({colResizable:function(a){a=g.extend({draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},a);return this.each(function(){var b=a,c=g(this);if(b.disable){if(c=c.attr("id"),(b=i[c])&&b.is("table"))b.removeClass("JColResizer").gc.remove(),
delete i[c]}else{var d=c.id=c.attr("id")||"JColResizer"+r++;c.p=b.postbackSafe;c.is("table")&&!i[d]&&(c.addClass("JColResizer").attr("id",d).before('<div class="JCLRgrips"/>'),c.opt=b,c.g=[],c.c=[],c.w=c.width(),c.gc=c.prev(),b.marginLeft&&c.gc.css("marginLeft",b.marginLeft),b.marginRight&&c.gc.css("marginRight",b.marginRight),c.cs=n(o?this.cellSpacing||this.currentStyle.borderSpacing:c.css("border-spacing"))||2,c.b=n(o?this.border||this.currentStyle.borderLeftWidth:c.css("border-left-width"))||1,
i[d]=c,t(c))}})}})})(jQuery);