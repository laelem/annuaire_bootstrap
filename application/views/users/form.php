<?php$id = !empty($user['user_id']) ? $user['user_id'] : '';$action = empty($id) ? 'users/ajouter' : 'users/modifier/'.$id;$options_statut = array();foreach($this->config->item('statut') as $k=>$v){	$options_statut[$k] = $this->lang->line('users_libelle_statut_'.$v);}$data = array(    'actif_oui' => array('name' => 'actif', 'value' => 1, 'checked' => set_radio('actif', 1, ($user['actif']==1))),    'actif_non' => array('name' => 'actif', 'value' => 0, 'checked' => set_radio('actif', 0, ($user['actif']!=1))),	'civ_1' => array('name' => 'civ', 'value' => 1, 'checked' => set_radio('civ', 1, ($user['civ']==1))),	'civ_2' => array('name' => 'civ', 'value' => 2, 'checked' => set_radio('civ', 2, ($user['civ']==2))),	'civ_3' => array('name' => 'civ', 'value' => 3, 'checked' => set_radio('civ', 3, ($user['civ']==3))),	'login' => array(        'name'        => 'login',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('login', $user['login']),    ),	'password' => array(        'name'        => 'password',		'type'		  => 'password',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('password', $user['password']),    ),	'statut' => array(        'name'        => 'statut',		'options'	  => $options_statut,        'defaults'    => array($user['statut']),    ),    'nom' => array(        'name'        => 'nom',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('nom', $user['nom']),		'style'		  => 'text-transform: uppercase',    ),	'prenom' => array(        'name'        => 'prenom',        'maxlength'   => '255',        'size'        => '40',        'value'       => set_value('prenom', $user['prenom']),		'style'		  => 'text-transform: capitalize',    ),	'date_naissance' => array(        'name'        => 'date_naissance',        'maxlength'   => '10',        'size'        => '10',        'value'       => set_value('date_naissance', $user['date_naissance']),    ),	'adresse' => array(        'name'        => 'adresse',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('adresse', $user['adresse']),    ),	'adresse2' => array(        'name'        => 'adresse2',        'maxlength'   => '255',        'size'        => '40',        'value'       => set_value('adresse2', $user['adresse2']),    ),	'cp' => array(        'name'        => 'cp',        'maxlength'   => '5',        'size'        => '5',        'required'    => 'required',        'value'       => set_value('cp', $user['cp']),    ),	'ville' => array(        'name'        => 'ville',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('ville', $user['ville']),		'style'		  => 'text-transform: capitalize',    ),	'pays' => array(        'name'        => 'pays',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('pays', $user['pays']),		'style'		  => 'text-transform: uppercase',    ),	'tel' => array(        'name'        => 'tel',        'maxlength'   => '15',        'size'        => '15',        'required'    => 'required',        'value'       => set_value('tel', $user['tel']),    ),	'tel2' => array(        'name'        => 'tel2',        'maxlength'   => '15',        'size'        => '15',        'value'       => set_value('tel2', $user['tel2']),    ),	'email' => array(        'name'        => 'email',		'type'		  => 'email',        'maxlength'   => '255',        'size'        => '40',        'required'    => 'required',        'value'       => set_value('email', $user['email']),    ),);$liste_erreurs = validation_errors();if(!empty($liste_erreurs)){	echo '<div class="erreurs_form">';		echo '<p>'.$this->lang->line('global_erreur_form').'</p>';		echo '<div>';			echo $liste_erreurs;		echo '</div>';	echo '</div>';}echo form_open($action, array('id' => 'form_user', 'name' => 'form_user'));	echo form_hidden('user_id', $id);	$this->table->add_row(		form_label($this->lang->line('users_libelle_actif').' <span class="requis">*</span>', 'actif'),		form_radio($data['actif_oui']).' '.$this->lang->line('general_oui').' '		.form_radio($data['actif_non']).' '.$this->lang->line('general_non').' '	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_civ').' <span class="requis">*</span>', 'civ'),		form_radio($data['civ_1']).' '.$this->lang->line('users_libelle_civ_1').' '		.form_radio($data['civ_2']).' '.$this->lang->line('users_libelle_civ_2').' '		.form_radio($data['civ_3']).' '.$this->lang->line('users_libelle_civ_3').' '	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_login').' <span class="requis">*</span>', 'login'),		form_input($data['login'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_password').' <span class="requis">*</span>', 'password'),		form_input($data['password'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_statut'), 'statut'),		form_dropdown($data['statut']['name'], $data['statut']['options'], $data['statut']['defaults'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_nom').' <span class="requis">*</span>', 'nom'),		form_input($data['nom'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_prenom'), 'prenom'),		form_input($data['prenom'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_date_naissance'), 'date_naissance'),		form_input($data['date_naissance'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_adresse').' <span class="requis">*</span>', 'adresse'),		form_input($data['adresse'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_adresse2'), 'adresse2'),		form_input($data['adresse2'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_cp').' <span class="requis">*</span>', 'cp'),		form_input($data['cp'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_ville').' <span class="requis">*</span>', 'ville'),		form_input($data['ville'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_pays').' <span class="requis">*</span>', 'pays'),		form_input($data['pays'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_tel').' <span class="requis">*</span>', 'tel'),		form_input($data['tel'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_tel2'), 'tel2'),		form_input($data['tel2'])	);	$this->table->add_row(		form_label($this->lang->line('users_libelle_email').' <span class="requis">*</span>', 'email'),		form_input($data['email'])	);	$this->table->add_row(		'',		form_submit('submit_user', $this->lang->line('general_valider'))		.'<button type="button" onclick="window.location.href=\''.site_url('/users/liste').'\'" >'.$this->lang->line('general_retour').'</button>'	);	echo $this->table->generate();echo '</form>';echo '<p>'.sprintf($this->lang->line('general_champs_requis'), '<span class="requis">*</span>').'</p>';