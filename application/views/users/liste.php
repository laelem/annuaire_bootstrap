<?php$sess_user = $this->session->userdata('user');$tri = $sess_user['tri']['champ'] == 'membre' ? ($sess_user['tri']['type'] == 'asc' ? '<i class="icon-chevron-down"></i>' : '<i class="icon-chevron-up"></i>') : '';if(!empty($message)){	echo '<p class="alert alert-success">'.$this->lang->line($message).'</p>';}echo '<button type="button" class="btn btn-primary btn-large action_globale" onclick="window.location.href=\''.site_url('/users/ajouter').'\'">'.$this->lang->line('general_ajouter').'</button>';if(!empty($tab_users)){	echo '<section id="liste_users">';		echo '<table class="table table-bordered">';			echo '<thead>';				echo '<th class="triable" colspan="3">'.$tri.' <a href="'.site_url('/users/tri/membre').'" title="'.$this->lang->line('general_trier').'" >'.$this->lang->line('users_libelle_users').'</a></th>';			echo '</thead>';			foreach($tab_users as $k => $user){				echo '<tr>';					$tab_users[$k]['membre'] = empty($user['prenom']) ? $user['nom'] : $user['prenom'].' '.$user['nom'];					if($user['actif'] == 1)						echo '<td class="active">'.$tab_users[$k]['membre'].'</td>';					else						echo '<td>'.$tab_users[$k]['membre'].'</td>';					echo '<td class="action"><a href="'.site_url('/users/modifier/'.$user['user_id']).'" title="'.$this->lang->line('general_modifier').'"><i class="icon-pencil"></i></a></td>';					if($this->session->userdata['user_id'] != $user['user_id']){						if($user['actif'] == 1)							echo '<td class="action"><a href="'.site_url('/users/desactiver/'.$user['user_id']).'" title="'.$this->lang->line('general_desactiver').'"><i class="icon-minus"></i></a></td>';						else							echo '<td class="action"><a href="'.site_url('/users/activer/'.$user['user_id']).'" title="'.$this->lang->line('general_activer').'"><i class="icon-ok"></i></a></td>';						echo '<td class="action">';							echo '<a href="#modal_suppr_'.$user['user_id'].'" title="'.$this->lang->line('general_supprimer').'" data-toggle="modal"><i class="icon-remove"></i></a>';						echo '</td>';					}					else						echo '<td class="action"></td><td class="action"></td>';				echo '</tr>';			}		echo '</table>';	echo '</section>';		// Génération des fenêtres modales pour les suppressions	foreach($tab_users as $user){		$msg = sprintf($this->lang->line('users_confirm_suppression'), $user['membre']);		echo '<div class="modal" id="modal_suppr_'.$user['user_id'].'">';			echo '<div class="modal-header">';				echo '<h3>'.$this->lang->line('users_modal_header').'</h3>';			echo '</div>';			echo '<div class="modal-body">';				echo '<p>'.$msg.'</p>';			echo '</div>';			echo '<div class="modal-footer">';				echo '<a class="btn" data-dismiss="modal">'.$this->lang->line('general_annuler').'</a>';				echo '<a href="'.site_url('/users/supprimer/'.$user['user_id']).'" class="btn btn-primary">'.$this->lang->line('general_oui').'</a>';			echo '</div>';		echo '</div>';	}}?>